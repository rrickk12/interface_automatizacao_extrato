<form id="form-regra">
    <input name="descricao_contain" placeholder="Descrição contém (vírgula separada)">
    <input name="descricao_regex" placeholder="Regex de descrição">
    <input name="contato_igual" placeholder="Parte do nome do contato (opcional)">
  
    <!-- Seletor para Tipo de Transação -->
    <select name="transaction_type">
      <option value="Indefinido">Indefinido</option>
      <option value="Crédito">Crédito</option>
      <option value="Débito">Débito</option>
    </select>
  
    {% set tipos = [] %}
    {% for key, sublist in (config_json.tipos_por_transacao or {}).items() %}
      {% for t in sublist %}
        {% if t not in tipos %}
          {% set _ = tipos.append(t) %}
        {% endif %}
      {% endfor %}
    {% endfor %}
    <select name="tipo">
      <option value="">Selecione o tipo</option>
      {% for t in tipos %}
        <option value="{{ t }}">{{ t }}</option>
      {% endfor %}
    </select>
  
    <select name="categoria">
      <option value="">Selecione a categoria</option>
      {% for c in (config_json.categorias_por_tipo or {}).keys() %}
        <option value="{{ c }}">{{ c }}</option>
      {% endfor %}
    </select>
  
    <!-- Novo campo para definir o memo -->
    <input name="memo_rule" placeholder="Memo (preenchimento automático)">
  
    <button type="button" onclick="adicionarRegra()">Salvar regra</button>
  </form>
  